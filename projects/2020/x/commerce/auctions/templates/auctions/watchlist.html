{% extends 'auctions/layout.html' %}

{% block body %}
<div class="content-wrap">
    {% if watchlist %}
        <h2 class="page-title">Your Watchlist</h2>
        <div class="item-wrap">
            {% for item in watchlist %}

                <a style="display: block; color: inherit; text-decoration: none;" href="{% url 'listing' item.listing.id %}">    
                    <article class="listing">
                        <h2>{{ item.listing.title }}</h2>
            
                        <div class="listing-image__container">
                            <img class="listing-image__image" src="{{ item.listing.image }}">
                        </div>
                        
                        <div class="other">
                            <p>Starting Bid: <span class="success-text">$ {{ item.listing.starting_bid }}</span></p>
                        {% if item.listing.bid == None %}
                            <p>Current Bid: <span class="fail-text">No bids made</span></p>
                        {% else %}
                            <p>Current Bid: <span class="success-text">$ {{ item.listing.bid.value }}</span></p>
                        {% endif %}
                        </div>
                        

                        <div class="description">
                            <h4>Description</h4>
                            <p>{{ item.listing.description }}</p>
                        </div>
                        
            
                    </article>
                </a>

            {% endfor %}
        </div>
    {% elif already == True %}
        <h2 class="page-title"> You already have this item in your watchlist</h2>
    {% else %}
        <h2 class="page-title">Your watchlist is empty</h2>
        
    {% endif %}
</div>
{% endblock %}